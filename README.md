# RTC-Slackbot
A python application that serves as a go-between of the IDS(IBM Bluemix Devops Services) Track and Plan dashboards and slack.

## Current requests that are allowed

| *Command*   | *Example* | *Description* |
|------------|-----------------------------------|-----------------|
| `/rtc [work item id]` | `/rtc 40033`   | Get information on a specific work item. |
| `/rtc user [name]` | `/rtc user James Royal`   | Get a users open work items | 
| `/rtc backlog [team]` | `/rtc backlog alchemy | Alchemy-OS-Innovation-A` | Get a teams backlog. | 


## Well how do I install it?

Click the button below to fork into IBM DevOps Services and deploy your own copy of this application on Bluemix. Note the app will not yet work; you need to set the environment variables in bluemix and set up the slash command in slack.

[![Deploy to Bluemix](https://bluemix.net/deploy/button.png)](https://bluemix.net/deploy?repository=https://github.com/jroyal/RTC-Slackbot.git)

#### Setting up the slash command

Go to to your slack settings where you can add integrations, and add a new slash command. Add your new Bluemix url that you got from your deploy to the URL field. Set up the command to /rtc or whatever else you might want. Copy down your token because you will need it in the next step.

#### Setting the environment variables

Go to the [Bluemix Dashboard](https://console.ng.bluemix.net/?ace_base=true). Click on the tile that represents your new application. In the left side bar, click on `environment variables` and then in the center of the screen `USER_DEFINED`. Set the following variables.

| *Variable*   | *Explanation* |
|------------|----------------------------------------------------|
| *JAZZ_URL* | The first part of the url of your track and plan. Ex: https://hub.jazz.net/ccm08   |
| *JAZZ_USERNAME* | Your IBM Single Sign on Username   |
| *JAZZ_PASSWORD* | Your IBM Single Sign on Password   |
| *SLACK_TOKEN* | The token generated by your slack slash command   |
| *SLACK_ERROR_URL* | *Optional* The url to a incoming webhook used to post error messages   |
| *SLACK_ERROR_CHANNEL* | *Optional* The channel to post the error messages too   |

#### Optional Error Updates

I added the ability for a user or channel to be notified if something would have caused a server error. This was essentially so I could see if someone tried a request that failed for a reason that I didn't expect. If you would like to get this functionality create a new incoming webhook and set the two optional env variables listed in the table above.


